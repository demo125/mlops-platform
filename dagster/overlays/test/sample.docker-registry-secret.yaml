#create using command :
# export DOCKER_REGISTRY_SECRET=
# export DOCKER_REGISTRY_USER=
# kubectl create secret docker-registry docker-registry-secret 
# --docker-server=k3d.registry \
# --docker-username=$DOCKER_REGISTRY_USER \
# --docker-password=$DOCKER_REGISTRY_SECRET \
# --docker-email="" 

#get the created secret
#kubectl get secrets -n dagster docker-registry-secret -o yaml
#copy it and delete unnecessary fields
#put it to docker-registry-secret.yaml
#run kubeseal
#kubeseal --scope namespace-wide --controller-name sealed-secrets --controller-namespace=sealed-secrets -f docker-registry-secret.yaml -w sealed-docker-registry-secret.yaml -n dagster
#delete the seceret
#push sealed secret

kind: Secret
apiVersion: v1
metadata:
  name: docker-registry-secret
data:
  .dockerconfigjson: >-
    xyz
type: kubernetes.io/dockerconfigjson
